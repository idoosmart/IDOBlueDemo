//
//  IDORecordDeviceLog.h
//  IDOBluetooth
//
//  Created by hedongyang on 2018/9/25.
//  Copyright © 2018年 apple. All rights reserved.
//

#import <Foundation/Foundation.h>

#if __has_include(<IDOBlueProtocol/IDOBlueProtocol.h>)
#else
#import "IDOLogEnum.h"
#endif

@interface IDORecordDeviceLog : NSObject

/**
 功能表转成JSON文件
 */
+ (void)funcTableToJsonFile:(void(^_Nullable)(NSString * _Nullable filePath))complete;

/**
  * @brief 命令执行记录数据库日志（7天最新数据） | Command execution log path
  * @param complete 日志存储 IDOBD.log | Log information acquisition completion callback
  */
+ (void)getRecordDBlog:(void(^_Nullable)(void))complete;

/**
 * @brief 命令执行记录数据库日志路径（7天最新数据） | Command execution log path
 * @return 日志存储目录 IDOBD.log
 * log Storage Directory There may be multiple log files under the directory. The log files are generated by date.
 */
+ (NSString *_Nullable)recordDBLogPath;

/*
 删除DB日志路劲
 */
+ (void)removeRecordDBLog;

/**
 * @brief 获取设备日志信息 （在设备连接ota模式下不能使用获取设备重启日志）
 * Obtain device log information (When the device is connected, it is not used in the ota mode to get the device restart log)
 * @param callback 日志信息获取完成回调 | Log information acquisition completion callback
 */
+ (void)getDeviceLogWithCallback:(void(^_Nullable)(BOOL isComplete))callback;

/**
 获取flash log 是否在传输中
 */
+ (BOOL)getFlashLogState;


/**
 停止获取flash log 的传输
 */
+ (BOOL)stopFlashLogRecord;

/**
 * @brief 开始记录手环flash日志 （在设备连接ota模式下不能使用获取设备重启日志）
 * Start record bracelet flash log
 * @param callback 日志信息获取完成回调 | Log information acquisition completion callback
 */
+ (void)getFlashLogRecordWithType:(IDO_FLASH_LOG_TYPE)type
                         callback:(void(^_Nullable)(int errorCode))callback;

/**
 * @brief 记录协议库外的蓝牙日志 （内部使用）
 * Record bluetooth logs outside the protocol library
 * @param type 日志类型 | Log type
 * @param logStr 日志记录 | Log str
 */
+ (void)recordBlueLogWithType:(IDO_RECORD_LOG_TYPE)type
                       logStr:(NSString *_Nullable)logStr;

/**
 * @brief 设备重启日志路径 | Device restart log path
 * @return 日志存储目录 目录下可能有多个日志文件 日志文件是按日期生成的
 * Log Storage Directory There may be multiple log files under the directory. The log files are generated by date.
 */
+ (NSString *_Nullable)rebootLogFloderPath;

/**
 * @brief 命令执行记录日志路径 | Command execution log path
 * @return 日志存储目录 目录下可能有多个日志文件 日志文件是按日期生成的
 * log Storage Directory There may be multiple log files under the directory. The log files are generated by date.
 */
+ (NSString *_Nullable)recordLogFloaderPath;

/**
 * @brief 手环flash记录日志路径 | Flash bracelet log path
 * @return 日志存储目录 目录下可能有多个日志文件
 * 日志文件是{通用日志 : general.log,复位日志:reset.log,硬件日志:hardware.log,算法日志:algorithm.log,重启日志:restart.log}
 * Log file is {general log,reset log, hardware log, algorithm log,restart.log}
 */
+ (NSString *_Nullable)recordFlashLogFloaderPath;

/**
 * sdk 更新日志文件路径(html)
 * sdk update log file path(html)
 */
+ (NSString *_Nullable)updateLogFilePath DEPRECATED_MSG_ATTRIBUTE("method is deprecated");



@end

